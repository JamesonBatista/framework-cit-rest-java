<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="https://ciandt.com/themes/custom/ciandt_theme/favicon.ico"
          type="image/vnd.microsoft.icon">
    <title>CIT Framework</title>
</head>

<body>
<div>
    <h1 style="text-align: center;">
        <img src="https://ciandt.com/themes/custom/ciandt_theme/logo.svg" alt="logoCIT">
        Configuração do Framework CI&T
    </h1>
</div>
<hr>
<p>&#x26A0;<b> Obs: Para baixar o framework CI&T você precisará ter chave M Bradesco.</b>
    <br>
    <br>
</p>

<ol>
    <li>Primeiro vamos baixar o JAR <a
            href="https://drive.google.com/drive/u/1/folders/10cRqFVxSy7iGjh5mmsoEbF41x-lt9nQZ">Aqui</a>
        e coloca-lo dentro da pasta <b>src/java/resources/framework</b>
    </li>
    <br>
    <li>Vamos importar as dependências para o arquivo <b>pom.xml</b>
        que fica na raíz do seu projeto
        <a href="dependencias.text">Aqui </a>
        , ao final faça build do seu projeto.
    </li>
    <br>
    <li>
        Configurando sua classe <b>RegresstionTest</b>
        , conforme imagem abaixo, clique para expandir:
        <p>
            <a class="lightbox" href="#dog">
                <iframe src="https://drive.google.com/file/d/1YryXtNWC8UrAIu1NQtKBK1rTXnoyCzbF/preview" width="640" height="480" allow="autoplay"></iframe>
            </a>
        <div class="lightbox-target" id="dog">
        <iframe src="https://drive.google.com/file/d/1YryXtNWC8UrAIu1NQtKBK1rTXnoyCzbF/preview" width="640" height="480" allow="autoplay"></iframe>
            <a class="lightbox-close" href="#"></a>
        </div>

        </p>
    </li>

    <li>Para efetuar validações usando o Framework CI&T aqui está uma lista com vídeos mostando passo a passo
        <a href="https://drive.google.com/drive/u/1/folders/1JjX186HDmh6i-yPh_yCutPUIKJNLbh5g">VIDEOS</a>

    </li>
</ol>
<p>
<h2>Vamos efetuar validações de exemplo:</h2>
</p>

<p>Primeiro usando um JSON simples:</p>


<pre>
    <code>
        {
            "data": {
              "id": 7,
              "email": "michael.lawson@reqres.in",
              "first_name": "Michael",
              "last_name": "Lawson",
              "avatar": "https://reqres.in/img/faces/7-image.jpg"
            },
            "support": {
              "url": "https://reqres.in/#support-heading",
              "text": "To keep ReqRes free, 
              contributions towards server costs are appreciated!"
            }
          }
    </code>

    <code>
        //Validação usando o Rest
        Get(false)
                .body("data.id", Matchers.is(7),
                        "data.email", Matchers.is("michael.lawson@reqres.in"),
                        "support.url", Matchers.is("https://reqres.in/#support-heading"));

        //Validação usando o framework CI&T
        Body()
                .mapping("data > id", 7)
                .mapping("data > email")
                .mapping("data > first_name")
                .mapping("support > text", "To keep ReqRes free, " +
                        "contributions towards server costs are appreciated!");
    </code>
</pre>
<br>
<p>
<h2>Um JSON com complexidades maiores:</h2></p>

<pre>
    <p>No JSON existem alguns Arrays, que retornam valores diferentes em campos iguals <br>
usando o framework é possível informar quals possíveis valores a serem validados, como no exemplo abaixo: <br>
<code style="color: blue;">
Body().mapping("bradesco > creditCards > bills > bills > billStatus", "billStatus", "FECHADA", "PAGA")
</code>
    </p>

    <a href="http://demo0623716.mockable.io/" style="color: black;">LINK do JSON</a>

    <code>
        //Validação usando o Framework
        Body()
                .mapping("totalSumary > cardsCount", 2)
                .mapping("totalSumary > limitAmount",  0)
                .mapping("bradesco > brandName")
                .mapping("totalSumary > cardsCount", "cardsCount", 1, 2)
                .mapping("bradesco > creditCards > creditCardInfo > creditCardNetwork")
                .mapping("bradesco > creditCards > bills > bills > billStatus", "billStatus", "FECHADA", "PAGA")
                .mapping("others > creditCards > creditCardInfo > consentId", "consentId", "itauconsentid", "bancodobrasil02consentid")
                .mapping("others > creditCards > bills > bills > billStatus", "billStatus", "PAGA", "FECHADA")
                .mapping("categoryMonthsAvailables > cards > internalBrand", "internalBrand", "OTHERS", "BRADESCO")
                .mapping("categoryMonthsAvailables > totalAmount", "totalAmount", 200000.08);


        //Validação usando o Rest
        ResponseBody().body("bradesco.brandName", Matchers.is("BRADESCO"),
                "bradesco.creditCards.creditCardInfo[0].creditCardNetwork", is("VISA"));
        ResponseBody().body("bradesco.creditCards.bills[0].bills[0].billStatus", is("FECHADA"));
        ResponseBody().body("others[0].creditCards.creditCardInfo[1].consentId", is("itauconsentid"));
        ResponseBody().body("others[0].creditCards.bills[0].bills[0].billStatus", is("PAGA"));
        ResponseBody().body("bradescoBlocked.creditCards.bills[0].auditory", is(nullValue()));
        String response = ResponseBody().extract().response().path("categoryMonthsAvailables[0].totalAmount").toString();
        BigDecimal bigDecimal = new BigDecimal(response);
        Assert.assertThat(bigDecimal.doubleValue(), is(200000.08));
        ResponseBody().body("categoryMonthsAvailables[0].cards.internalBrand[2]", is("BRADESCO"));
        ResponseBody().body("categoryMonthsAvailables[0].cards.size()", is(3));
    </code>
</pre>
<div class="video">
    <div class="dvideo">
        <p>Validando JSON com o RestAssured JSON complexo</p>
        <iframe src="https://drive.google.com/file/d/1bM_dvYyxGxi3nuExWf1y38tGr2eAnPZ3/preview" width="340"
                height="180" allow="autoplay" title="Validação usando o RestAssured"></iframe>
    </div>

    <div class="dvideo">
        <p>Validando JSON simpes com o Framework usando uma das formas:</p>
        <iframe src="https://drive.google.com/file/d/1huFJXvgozgXibs6L2BQA4w0bKFybT8hA/preview" width="340"
                height="180" allow="autoplay"></iframe>
    </div>

    <div class="dvideo">
        <p>Validando JSON complexo com o Framework usando uma da formas:</p>
        <iframe src="https://drive.google.com/file/d/1k-MyHs2YNo2fUrLHZVZBYQdLontO4BF6/preview" width="340"
                height="180" allow="autoplay"></iframe>
    </div>

    <div class="dvideo">
        <p>Validando JSON Object usando o Framework:</p>
        <iframe src="https://drive.google.com/file/d/1YwBI5MwYsAgWd8q3u3mtk9Y3vHj9cTse/preview" width="340"
                height="180" allow="autoplay"></iframe>
    </div>

    <div class="dvideo">
        <p>Validando JSON list usando o Framework</p>
        <iframe src="https://drive.google.com/file/d/1JLEIqq4weHYmPtvjGkUSMsr_lFvoS1JE/preview" width="340"
                height="180" allow="autoplay"></iframe>
    </div>

</div>
</body>
</html>

<style>
    html {
  height: 100% !important;
  background-image: linear-gradient(
    rgba(238, 143, 143, 0.911),
    rgb(236, 236, 172)
  );
  background-attachment: fixed;
  padding-bottom: 20px;
}
body {
  width: 100%;
  padding: 20px;
  height: 100%;
  bottom:20px;
}
pre {
  list-style-type: none;
  margin: 0;
  padding: 0;
  overflow: hidden;
}
code {
  float: left;
}

b {
  color: blue;
}

a {
  color: #fff;
}

a.lightbox img {
  height: 150px;
  border: 3px solid white;
  box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.3);
}
.dvideo{
    display: inline-block;
    *display: inline;
    zoom: 1;
    vertical-align: top;
    font-size: 12px;
}
/* Styles the lightbox, removes it from sight and adds the fade-in transition */

.lightbox-target {
  position: fixed;
  top: -100%;
  width: 70%;
  background: rgba(0, 0, 0, 0.7);
  width: 70%;
  opacity: 0;
  -webkit-transition: opacity 0.5s ease-in-out;
  -moz-transition: opacity 0.5s ease-in-out;
  -o-transition: opacity 0.5s ease-in-out;
  transition: opacity 0.5s ease-in-out;
  overflow: hidden;
}

/* Styles the lightbox image, centers it vertically and horizontally, adds the zoom-in transition and makes it responsive using a combination of margin and absolute positioning */

.lightbox-target img {
  margin: auto;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  max-height: 0%;
  max-width: 0%;
  border: 3px solid white;
  box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.3);
  box-sizing: border-box;
  -webkit-transition: 0.5s ease-in-out;
  -moz-transition: 0.5s ease-in-out;
  -o-transition: 0.5s ease-in-out;
  transition: 0.5s ease-in-out;
}

/* Styles the close link, adds the slide down transition */

a.lightbox-close {
  display: block;
  width: 50px;
  height: 50px;
  box-sizing: border-box;
  background: white;
  color: black;
  text-decoration: none;
  position: absolute;
  top: -60px;
  right: 0;
  -webkit-transition: 0.5s ease-in-out;
  -moz-transition: 0.5s ease-in-out;
  -o-transition: 0.5s ease-in-out;
  transition: 0.5s ease-in-out;
}

/* Provides part of the "X" to eliminate an image from the close link */

a.lightbox-close:before {
  content: "";
  display: block;
  height: 30px;
  width: 1px;
  background: black;
  position: absolute;
  left: 26px;
  top: 10px;
  -webkit-transform: rotate(45deg);
  -moz-transform: rotate(45deg);
  -o-transform: rotate(45deg);
  transform: rotate(45deg);
}

/* Provides part of the "X" to eliminate an image from the close link */

a.lightbox-close:after {
  content: "";
  display: block;
  height: 30px;
  width: 1px;
  background: black;
  position: absolute;
  left: 26px;
  top: 10px;
  -webkit-transform: rotate(-45deg);
  -moz-transform: rotate(-45deg);
  -o-transform: rotate(-45deg);
  transform: rotate(-45deg);
}

/* Uses the :target pseudo-class to perform the animations upon clicking the .lightbox-target anchor */

.lightbox-target:target {
  opacity: 1;
  top: 0;
  bottom: 0;
  overflow: scroll;
}

.lightbox-target:target img {
  max-height: 100%;
  max-width: 100%;
}

.lightbox-target:target a.lightbox-close {
  top: 0;
}

</style>